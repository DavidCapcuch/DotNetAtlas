# Copyright The OpenTelemetry Authors
# SPDX-License-Identifier: Apache-2.0

global:
  scrape_interval: 5s
  scrape_timeout: 3s
  evaluation_interval: 30s

scrape_configs:
  - job_name: 'otel-collector'
    scrape_interval: 5s
    static_configs:
      - targets: ['otel-collector:8889']  # OTLP Prometheus exporter endpoint

  - job_name: 'dotnetatlas-healthchecks'
    scrape_interval: 10s
    scrape_timeout: 9s
    metrics_path: /api/health/prometheus
    static_configs:
      - targets: ['host.docker.internal:5159']
        labels:
          app: dotnetatlas-api
          kind: healthchecks

otlp:
  promote_resource_attributes:
    - service.instance.id
    - service.name
    - service.namespace
    - cloud.availability_zone
    - cloud.region
    - container.name
    - deployment.environment.name

storage:
  tsdb:
    out_of_order_time_window: 30m
